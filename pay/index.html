<!DOCTYPE html>
<html>
<head>
  <!--<script src="deeplink.js"></script>-->
</head>
<body>
  <div id="root">
    this is test for web-payment api
  </div>
  <script>
    //deeplink.createBrowser();
    Notification.requestPermission().then((permission) => {
      console.log(permission);
    }).catch((error) => {
      console.log(error);
    });
    
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then((registrations) => {
        for(var reg in registrations) {
          alert(reg);
        }
      })
      navigator.serviceWorker.register('sw.js', {scope: './pay'}).then((registration) => {
        alert('service_registration update!');
        registration.update();
      });
      alert('serviceWorker.registered success!');
    } else {
      alert('serviceWorker.registered failed!'); 
    }  
  </script>
</body>
</html>
